{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\REACT\\\\68react\\\\src\\\\erp\\\\hr\\\\salary\\\\page\\\\SalaryManage\\\\CloseSalary.js\";\nimport React, { useState } from \"react\";\nimport useMonth from \"erp/hr/util/useMonth\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport Select from \"react-select\";\nimport { Button, FormControl, AppBar, Toolbar, Typography } from \"@material-ui/core\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport SearchIcon from \"@material-ui/icons/Search\"; //**************************2020-08-20 63기 손유찬 수정 ********************************* \n//ag그리드 숫자형식 변환 함수 끝\n\nconst CloseSalary = ({\n  handleChange,\n  salaryList,\n  findCloseSalary,\n  setEvent,\n  closeSalaryWithSlipRequest,\n  makeJournal\n}) => {\n  var [positionGridApi, setPositionGridApi] = useState([]); // 바뀌는 상태 값을 관리함\n\n  const [empCodes, setEmpCodes] = useState(); //=================================================== ag Grid 초기화 시 실행 =========================================\n\n  const onGridReady = params => {\n    setPositionGridApi(params.api);\n    params.api.sizeColumnsToFit(); // 칼럼 사이즈 자동조절\n  }; //마감버튼 \n\n\n  const callCloseSalary = () => {\n    const empcode1 = positionGridApi.getSelectedRows(); //선택한 row  \n\n    if (empcode1.length === 0) {\n      alert(\"선택된것이 없습니다.\");\n      return;\n    }\n\n    if (!window.confirm(\" 마감 하시겠습니까 ? \")) {\n      alert(\" 취소 \");\n      return;\n    }\n\n    if (empcode1.length !== 0) {\n      for (var i = 0; i < empcode1.length; i++) {\n        if (empcode1[i].finalizeStatus === \"Y\") {\n          alert(\"마감처리가 이미 완료되었습니다.\");\n          return;\n        } else {\n          empcode1[i].finalizeStatus = \"Y\";\n        }\n      }\n\n      closeSalaryWithSlipRequest({\n        empcode1\n      });\n    }\n\n    console.log(\"llllllllllllllllllll \" + JSON.stringify(empcode1)); //closeSalaryWithSlipRequest({ empcode1 });\n\n    makeJournal(empcode1);\n  };\n\n  const state = {\n    columnDefs: [{\n      headerName: \"사원코드\",\n      field: \"empCode\",\n      sortable: true,\n      headerCheckboxSelection: true,\n      headerCheckboxSelectionFilteredOnly: true,\n      checkboxSelection: true\n    }, {\n      headerName: \"적용월\",\n      field: \"applyYearMonth\",\n      hide: true\n    }, {\n      headerName: \"기본급\",\n      field: \"salary\",\n      valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"'\n    }, {\n      headerName: \"심야근무시간\",\n      field: \"cost\"\n    }, {\n      headerName: \"휴일근무일수\",\n      field: \"unusedDaySalary\"\n    }, {\n      headerName: \"추가수당\",\n      field: \"totalExtSal\",\n      valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"'\n    }, {\n      headerName: \"총급여\",\n      field: \"totalPayment\",\n      valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"'\n    }, {\n      headerName: \"공제금액\",\n      field: \"totalDeduction\",\n      valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"'\n    }, {\n      headerName: \"실지급금\",\n      field: \"realSalary\",\n      valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"'\n    }, {\n      headerName: \"마감상태\",\n      field: \"finalizeStatus\"\n    }, {\n      headerName: \"부서코드\",\n      field: \"deptCode\",\n      hide: true\n    }],\n    rowSelection: \"multiple\",\n    rowData: salaryList\n  };\n  const set1 = useMonth();\n  const selectedDeptd = [{\n    value: \"DPT-01\",\n    label: \"총무부\"\n  }, {\n    value: \"DPT-02\",\n    label: \"영업부\"\n  }, {\n    value: \"DPT-03\",\n    label: \"생산부\"\n  }];\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"relative\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"\\uC6D4\\uAE09\\uC5EC \\uB9C8\\uAC10\")))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), React.createElement(FormControl, {\n    style: {\n      minWidth: \"300px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(FormControl, {\n    style: {\n      maxWidth: \"600px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }), React.createElement(FormControl, {\n    style: {\n      minWidth: \"250px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(Select, {\n    onChange: handleChange,\n    name: \"dept\" // onInputChange={handleInputChange}\n    ,\n    placeholder: \"\\uBD80\\uC11C\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\",\n    options: selectedDeptd,\n    style: {\n      width: \"500px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  })), React.createElement(FormControl, {\n    style: {\n      Width: \"600px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, \" \"), React.createElement(FormControl, {\n    style: {\n      minWidth: \"250px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(Select, {\n    onChange: handleChange,\n    name: \"date\" // onInputChange={handleInputChange}\n    ,\n    placeholder: \"\\uB0A0\\uC9DC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\",\n    options: set1.selectedmonth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  })), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    startIcon: React.createElement(SearchIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }),\n    onClick: findCloseSalary,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, \"\\uC870\\uD68C\"), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    size: \"large\",\n    startIcon: React.createElement(InputIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }),\n    onClick: callCloseSalary,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"\\uB9C8\\uAC10\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"ag-theme-material\",\n    style: {\n      height: \"600px\",\n      width: \"100%\",\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }), React.createElement(AgGridReact, {\n    suppressRowClickSelection: true,\n    columnDefs: state.columnDefs,\n    rowData: state.rowData,\n    rowSelection: state.rowSelection,\n    onGridReady: onGridReady //onload 이벤트와 유사한 것\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  })));\n};\n\nexport default CloseSalary; //**************************2020-08-20 63기 손유찬 수정 *********************************","map":{"version":3,"sources":["C:/Users/USER/Desktop/REACT/68react/src/erp/hr/salary/page/SalaryManage/CloseSalary.js"],"names":["React","useState","useMonth","AgGridReact","Select","Button","FormControl","AppBar","Toolbar","Typography","InputIcon","SearchIcon","CloseSalary","handleChange","salaryList","findCloseSalary","setEvent","closeSalaryWithSlipRequest","makeJournal","positionGridApi","setPositionGridApi","empCodes","setEmpCodes","onGridReady","params","api","sizeColumnsToFit","callCloseSalary","empcode1","getSelectedRows","length","alert","window","confirm","i","finalizeStatus","console","log","JSON","stringify","state","columnDefs","headerName","field","sortable","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","checkboxSelection","hide","valueFormatter","rowSelection","rowData","set1","selectedDeptd","value","label","minWidth","maxWidth","width","Width","selectedmonth","height","textAlign"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport useMonth from \"erp/hr/util/useMonth\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport Select from \"react-select\";\nimport { Button, FormControl, AppBar, Toolbar, Typography } from \"@material-ui/core\";\nimport InputIcon from \"@material-ui/icons/Input\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n//**************************2020-08-20 63기 손유찬 수정 ********************************* \n\n\n//ag그리드 숫자형식 변환 함수 끝\nconst CloseSalary = ({\n  handleChange,\n  salaryList,\n  findCloseSalary,\n  setEvent,\n  closeSalaryWithSlipRequest,\n  makeJournal\n}) => {\n\n  var [positionGridApi, setPositionGridApi] = useState([]); // 바뀌는 상태 값을 관리함\n  const [empCodes, setEmpCodes] = useState();\n\n  //=================================================== ag Grid 초기화 시 실행 =========================================\n  const onGridReady = params => {\n    setPositionGridApi(params.api);\n    params.api.sizeColumnsToFit();   // 칼럼 사이즈 자동조절\n  };\n\n\n  //마감버튼 \n  const callCloseSalary = () => {\n\n    const empcode1 = positionGridApi.getSelectedRows(); //선택한 row  \n    if (empcode1.length === 0) {\n      alert(\"선택된것이 없습니다.\");\n      return;\n    } if (!window.confirm(\" 마감 하시겠습니까 ? \")) {\n      alert(\" 취소 \");\n      return;\n    }\n    if (empcode1.length !== 0) {\n      for (var i = 0; i < empcode1.length; i++) {\n        if (empcode1[i].finalizeStatus === \"Y\") {\n          alert(\"마감처리가 이미 완료되었습니다.\");\n          return;\n        } else {\n          empcode1[i].finalizeStatus = \"Y\";\n        }\n      }\n      closeSalaryWithSlipRequest({ empcode1 });\n    }\n    console.log(\"llllllllllllllllllll \" + JSON.stringify(empcode1))\n    //closeSalaryWithSlipRequest({ empcode1 });\n    makeJournal(empcode1);\n\n\n  };\n\n\n  const state = {\n    columnDefs: [\n      {\n        headerName: \"사원코드\",\n        field: \"empCode\",\n        sortable: true,\n        headerCheckboxSelection: true,\n        headerCheckboxSelectionFilteredOnly: true,\n        checkboxSelection: true,\n      },\n      { headerName: \"적용월\", field: \"applyYearMonth\", hide: true },\n      {\n        headerName: \"기본급\", field: \"salary\",\n        valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"',\n      },\n      { headerName: \"심야근무시간\", field: \"cost\" },\n      { headerName: \"휴일근무일수\", field: \"unusedDaySalary\" },\n      { headerName: \"추가수당\", field: \"totalExtSal\", valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"', },\n      { headerName: \"총급여\", field: \"totalPayment\", valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"', },\n      { headerName: \"공제금액\", field: \"totalDeduction\", valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"', },\n      { headerName: \"실지급금\", field: \"realSalary\", valueFormatter: ' Math.floor(value).toString().replace(/(\\\\d)(?=(\\\\d{3})+(?!\\\\d))/g, \"$1,\")+\" 원\"', },\n      { headerName: \"마감상태\", field: \"finalizeStatus\" },\n      { headerName: \"부서코드\", field: \"deptCode\", hide: true },\n    ],\n    rowSelection: \"multiple\",\n    rowData: salaryList,\n  };\n\n  const set1 = useMonth();\n\n  const selectedDeptd = [\n    {\n      value: \"DPT-01\",\n      label: \"총무부\",\n    },\n    {\n      value: \"DPT-02\",\n      label: \"영업부\",\n    },\n    {\n      value: \"DPT-03\",\n      label: \"생산부\",\n    },\n  ];\n\n  return (\n    <div>\n      <div>\n        <AppBar position=\"relative\">\n          <Toolbar>\n            <Typography variant=\"h5\">월급여 마감</Typography>\n          </Toolbar>\n        </AppBar>\n      </div>\n      <br />\n\n      <br />\n      <FormControl style={{ minWidth: \"300px\" }}></FormControl>\n      <FormControl style={{ maxWidth: \"600px\" }}></FormControl>\n      <FormControl style={{ minWidth: \"250px\" }}>\n        <Select\n          onChange={handleChange}\n          name=\"dept\"\n          // onInputChange={handleInputChange}\n          placeholder=\"부서를 선택해주세요\"\n          options={selectedDeptd}\n          style={{\n            width: \"500px\",\n          }}\n        ></Select>\n      </FormControl>\n\n      <FormControl style={{ Width: \"600px\" }}> </FormControl>\n      <FormControl style={{ minWidth: \"250px\" }}>\n        <Select\n          onChange={handleChange}\n          name=\"date\"\n          // onInputChange={handleInputChange}\n          placeholder=\"날짜를 선택해주세요\"\n          options={set1.selectedmonth}\n        />\n      </FormControl>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        size=\"large\"\n        startIcon={<SearchIcon />}\n        onClick={findCloseSalary}\n      >\n        조회\n      </Button>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        size=\"large\"\n        startIcon={<InputIcon />}\n        onClick={callCloseSalary}\n      >\n        마감\n      </Button>\n      <br />\n      <br />\n      <br /> \n      <div\n        className=\"ag-theme-material\"\n        style={{\n          height: \"600px\",\n          width: \"100%\",\n          textAlign: \"center\"\n        }}\n      >\n        <br />\n        <AgGridReact\n          suppressRowClickSelection={true}\n          columnDefs={state.columnDefs}\n          rowData={state.rowData}\n          rowSelection={state.rowSelection}\n          onGridReady={onGridReady} //onload 이벤트와 유사한 것\n        ></AgGridReact>\n      </div>\n    </div>\n  );\n};\nexport default CloseSalary;\n//**************************2020-08-20 63기 손유찬 수정 *********************************"]},"metadata":{},"sourceType":"module"}