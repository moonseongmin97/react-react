{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lyn\\\\Desktop\\\\68REACT\\\\68REACT\\\\68REACT\\\\src\\\\erp\\\\hr\\\\attendance\\\\page\\\\RestAttendance\\\\RestAttdComp.js\";\nimport React, { useState } from \"react\";\nimport UseStyles from \"./UseStyles\";\nimport { Paper, TextField, Button, Grid, AppBar, InputLabel, Box, Typography, Toolbar, MenuItem, Select, FormControl, OutlinedInput } from \"@material-ui/core\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-material.css\";\nimport useAxios from \"util/useAxios\";\nimport useInput from \"util/useInput\";\nimport RestAttdInput from \"./RestAttdInput\";\nimport { useDispatch } from \"react-redux\";\nimport { REST_ATTD_REQUEST } from \"erp/hr/attendance/reducer/RestReducer\";\nimport moment from \"moment\"; //*************************외출 및 조퇴 시작 _준서 _20.08.24 *************************\n\nconst RestAttdComp = props => {\n  const columnDefs = RestAttdInput;\n  const classes = UseStyles();\n  const fromDate = useInput(\"2021-01-01\");\n  const toDate = useInput(\"2021-12-31\");\n  let selectedInput = document.getElementsByName(\"attdRestTypeCode\")[0]; //오늘 날짜\n\n  let today = moment().format(\"YYYY-MM-DD\");\n\n  const codeDivision = element => {\n    if (typeof element == \"undefined\") return \"\";else {\n      // console.log(element.value); \n      return element.value;\n    }\n  };\n\n  const getInnerText = compVal => {\n    if (!compVal) return;\n    let returnVal = \"\";\n\n    switch (compVal) {\n      case \"ADC003\":\n        returnVal = \"공외출\";\n        break;\n\n      case \"ADC005\":\n        returnVal = \"사외출\";\n        break;\n\n      case \"DAC004\":\n        returnVal = \"조퇴\";\n        break;\n\n      case \"ETS001\":\n        returnVal = \"출장수당\";\n        break;\n\n      case \"ETS002\":\n        returnVal = \"유류비\";\n        break;\n\n      case \"ETS003\":\n        returnVal = \"자기개발지원금\";\n        break;\n\n      case \"ETS004\":\n        returnVal = \"식비\";\n        break;\n\n      default:\n        alert(\"compVal 확인요망\");\n    }\n\n    return returnVal;\n  };\n\n  const fetchAttdRestList_axiosOptions = {\n    url: \"http://localhost:8282/hr/attendance/findRestAttdList\",\n    //headers : {\"Context-Type\": \"application/json\"},\n    fetchOnStart: false,\n    method: \"get\",\n    params: {\n      startDate: fromDate.value,\n      endDate: toDate.value,\n      empCode: sessionStorage.getItem(\"empCodeInfo_token\"),\n      code: codeDivision(selectedInput)\n    }\n  };\n  const {\n    data,\n    fetch\n  } = useAxios(fetchAttdRestList_axiosOptions); // 조회를 사가로 했으면 결제승인페이지가 쉬웠을듯\n\n  const fetchAttdRestList = () => {\n    fetch(); //console.log(`DATA: ${JSON.stringify(data)}`);\n  }; // togle\n\n\n  const [costOpen, setCostOpen] = React.useState(false);\n  const [attdRestOpen, setAttdRestOpen] = React.useState(false);\n\n  function costHandleClose() {\n    setCostOpen(false);\n  }\n\n  function costHandleOpen() {\n    setCostOpen(true);\n  }\n\n  function attdRestHandleClose() {\n    // console.log(data);\n    setAttdRestOpen(false);\n  }\n\n  function attdRestHandleOpen() {\n    setAttdRestOpen(true);\n  }\n\n  const [attdRestStartDate, setAttdRestStartDate] = useState(today);\n  const [attdRestEndDate, setAttdRestEndDate] = useState(today); // const attdRestStartDate = useInput();\n  // const attdRestEndDate = useInput();\n\n  const attdRestTypeCode = useInput();\n  const cause = useInput();\n  const cost = useInput();\n  const startTime = useInput();\n  const endTime = useInput();\n  const dispatch = useDispatch();\n\n  const BatchDailyAttdRest = () => {\n    if (!codeDivision(selectedInput)) {\n      alert(\"근태외 구분란을 입력하세요\");\n      return;\n    }\n\n    const numberOfDays = ((new Date(attdRestEndDate.value).getTime() - new Date(attdRestStartDate.value).getTime()) / (1000 * 60 * 60 * 24)).toString();\n\n    const timeFormAlter = primitiveTime => {\n      if (!primitiveTime) return;\n      let changedTime = primitiveTime.replace(\":\", \"\");\n      if (changedTime.charAt(0) == 0) changedTime = changedTime.replace(/(^0+)/, \"\");\n      return Number(changedTime);\n    };\n\n    const data = {\n      empCode: sessionStorage.getItem(\"empCodeInfo_token\"),\n      restTypeCode: attdRestTypeCode.value,\n      restTypeName: getInnerText(codeDivision(selectedInput)),\n      requestDate: new Date().toISOString().substring(0, 10),\n      startDate: attdRestStartDate,\n      endDate: attdRestEndDate,\n      cause: cause.value,\n      applovalStatus: \"승인대기\",\n      // RST_ATTD테이블 칼럼 오탈자\n      rejectCause: \"\",\n      cost: \"\",\n      // getInnerText(cost.value), RST_ATTD테이블에 COST칼럼은 있지만, 해당칼럼은 NUMBER형이다. 각 항목에 대한 비용이 정의된 테이블을 찾지못했음\n      startTime: timeFormAlter(startTime.value),\n      endTime: timeFormAlter(endTime.value),\n      numberOfDays: numberOfDays == \"NaN\" ? 0 : numberOfDays\n    };\n    dispatch({\n      type: REST_ATTD_REQUEST,\n      data: data\n    });\n  };\n\n  const inputLabel = React.useRef(null);\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  React.useEffect(() => {\n    setLabelWidth(inputLabel.current.offsetWidth);\n  }, []);\n  return React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.topPaper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: classes.topFormControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    ref: inputLabel,\n    htmlFor: \"outlined-attdRestTypeCode-simple\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }, \"ATTD TYPE\"), React.createElement(Select, {\n    input: React.createElement(OutlinedInput, {\n      labelWidth: labelWidth,\n      name: \"attdRestTypeCode\",\n      id: \"outlined-attdRestTypeCode-simple\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }),\n    open: attdRestOpen,\n    onClose: attdRestHandleClose,\n    onOpen: attdRestHandleOpen,\n    onChange: attdRestTypeCode.onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    value: \"ADC003\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"\\uACF5\\uC678\\uCD9C\"), React.createElement(\"option\", {\n    value: \"ADC005\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, \"\\uC0AC\\uC678\\uCD9C\"), React.createElement(\"option\", {\n    value: \"DAC004\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, \"\\uC870\\uD1F4\"))))), React.createElement(Grid, {\n    item: true,\n    xs: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.leftPaper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"relative\",\n    className: classes.subCategory,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, \"\\uADFC\\uD0DC\\uC678 \\uC2E0\\uCCAD\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185\n    },\n    __self: this\n  }), React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"attdRestStartDate\",\n    label: \"\\uADFC\\uD0DC\\uC678 \\uC2DC\\uC791\\uC77C\",\n    type: \"date\",\n    variant: \"outlined\",\n    defaultValue: attdRestStartDate,\n    onChange: e => {\n      setAttdRestStartDate(e.target.value);\n    },\n    className: classes.textField,\n    InputLabelProps: {\n      shrink: true\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"attdRestEndDate\",\n    label: \"\\uADFC\\uD0DC\\uC678 \\uC885\\uB8CC\\uC77C\",\n    type: \"date\",\n    variant: \"outlined\",\n    defaultValue: attdRestEndDate,\n    onChange: e => {\n      setAttdRestEndDate(e.target.value);\n    },\n    className: classes.textField,\n    InputLabelProps: {\n      shrink: true\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"startTime\",\n    label: \"\\uC2DC\\uC791\\uC2DC\\uAC04\",\n    type: \"time\",\n    defaultValue: startTime.value,\n    onChange: startTime.onChange,\n    className: classes.textField,\n    variant: \"outlined\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"endTime\",\n    label: \"\\uC885\\uB8CC\\uC2DC\\uAC04\",\n    type: \"time\",\n    defaultValue: endTime.value,\n    onChange: endTime.onChange,\n    className: classes.textField,\n    variant: \"outlined\",\n    InputLabelProps: {\n      shrink: true\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: classes.formControl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    ref: inputLabel,\n    htmlFor: \"outlined-cost-simple\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }, \"COST\"), React.createElement(Select, {\n    input: React.createElement(OutlinedInput, {\n      labelWidth: labelWidth,\n      name: \"cost\",\n      id: \"outlined-cost-simple\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }),\n    open: costOpen,\n    onClose: costHandleClose,\n    onOpen: costHandleOpen,\n    value: cost.value,\n    onChange: cost.onChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    value: \"ETS001\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264\n    },\n    __self: this\n  }, \"\\uCD9C\\uC7A5\\uC218\\uB2F9\"), React.createElement(MenuItem, {\n    value: \"ETS002\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265\n    },\n    __self: this\n  }, \"\\uC720\\uB958\\uBE44\"), React.createElement(MenuItem, {\n    value: \"ETS003\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  }, \"\\uC790\\uAE30\\uAC1C\\uBC1C\\uC9C0\\uC6D0\\uAE08\"), React.createElement(MenuItem, {\n    value: \"ETS004\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267\n    },\n    __self: this\n  }, \"\\uC2DD\\uBE44\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"cause\",\n    label: \"\\uADFC\\uD0DC\\uC678 \\uC0AC\\uC720\",\n    variant: \"outlined\",\n    defaultValue: cause.value,\n    onChange: cause.onChange,\n    className: classes.textField,\n    InputLabelProps: {\n      shrink: true\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  })), React.createElement(Box, {\n    textAlign: \"right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: BatchDailyAttdRest,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284\n    },\n    __self: this\n  }, \"\\uC2E0\\uCCAD\")))), React.createElement(Grid, {\n    item: true,\n    xs: 8,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.rightPaper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"relative\",\n    className: classes.subCategory,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }, \"\\uADFC\\uD0DC\\uC678 \\uD604\\uD669\\uC870\\uD68C\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"fromDate\",\n    label: \"검색날짜\",\n    type: \"date\",\n    defaultValue: fromDate.value,\n    onChange: fromDate.onChange,\n    className: classes.textField,\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304\n    },\n    __self: this\n  }), \"~\", React.createElement(TextField, {\n    id: \"toDate\",\n    label: \"검색날짜\",\n    type: \"date\",\n    defaultValue: toDate.value,\n    onChange: toDate.onChange,\n    className: classes.textField,\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: fetchAttdRestList,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  }, \"\\uC870\\uD68C\")), React.createElement(\"div\", {\n    className: \"ag-theme-material\",\n    style: {\n      height: \"400px\",\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332\n    },\n    __self: this\n  }, React.createElement(AgGridReact, {\n    columnDefs: columnDefs,\n    rowData: data ? data : [],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  })))));\n};\n\nexport default RestAttdComp; //*************************외출 및 조퇴 종료 _준서 _20.08.24 *************************","map":{"version":3,"sources":["C:/Users/Lyn/Desktop/68REACT/68REACT/68REACT/src/erp/hr/attendance/page/RestAttendance/RestAttdComp.js"],"names":["React","useState","UseStyles","Paper","TextField","Button","Grid","AppBar","InputLabel","Box","Typography","Toolbar","MenuItem","Select","FormControl","OutlinedInput","AgGridReact","useAxios","useInput","RestAttdInput","useDispatch","REST_ATTD_REQUEST","moment","RestAttdComp","props","columnDefs","classes","fromDate","toDate","selectedInput","document","getElementsByName","today","format","codeDivision","element","value","getInnerText","compVal","returnVal","alert","fetchAttdRestList_axiosOptions","url","fetchOnStart","method","params","startDate","endDate","empCode","sessionStorage","getItem","code","data","fetch","fetchAttdRestList","costOpen","setCostOpen","attdRestOpen","setAttdRestOpen","costHandleClose","costHandleOpen","attdRestHandleClose","attdRestHandleOpen","attdRestStartDate","setAttdRestStartDate","attdRestEndDate","setAttdRestEndDate","attdRestTypeCode","cause","cost","startTime","endTime","dispatch","BatchDailyAttdRest","numberOfDays","Date","getTime","toString","timeFormAlter","primitiveTime","changedTime","replace","charAt","Number","restTypeCode","restTypeName","requestDate","toISOString","substring","applovalStatus","rejectCause","type","inputLabel","useRef","labelWidth","setLabelWidth","useEffect","current","offsetWidth","topPaper","topFormControl","onChange","leftPaper","subCategory","e","target","textField","shrink","formControl","button","rightPaper","height","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport UseStyles from \"./UseStyles\";\nimport {Paper,TextField,Button,Grid,AppBar,InputLabel,Box,Typography,Toolbar,\n  MenuItem,Select,FormControl,OutlinedInput} from \"@material-ui/core\"\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-material.css\";\nimport useAxios from \"util/useAxios\";\nimport useInput from \"util/useInput\";\nimport RestAttdInput from \"./RestAttdInput\";\nimport { useDispatch } from \"react-redux\";\nimport { REST_ATTD_REQUEST } from \"erp/hr/attendance/reducer/RestReducer\"\nimport moment from \"moment\";\n\n//*************************외출 및 조퇴 시작 _준서 _20.08.24 *************************\nconst RestAttdComp = props => {\n    const columnDefs = RestAttdInput;\n    const classes = UseStyles();\n\n  const fromDate = useInput(\"2021-01-01\");\n  const toDate = useInput(\"2021-12-31\");\n  let selectedInput = document.getElementsByName(\"attdRestTypeCode\")[0];\n  //오늘 날짜\n  let today = moment().format(\"YYYY-MM-DD\");\n\n  const codeDivision = element => {\n    if(typeof element == \"undefined\") return \"\";\n    else {\n      // console.log(element.value); \n      return element.value; \n    }\n  }\n\n  const getInnerText = (compVal) => {\n    if(!compVal) return;\n    let returnVal = \"\";\n    switch(compVal){\n      case \"ADC003\": returnVal = \"공외출\"; break;\n      case \"ADC005\": returnVal = \"사외출\"; break;\n      case \"DAC004\": returnVal = \"조퇴\"; break;\n      case \"ETS001\": returnVal = \"출장수당\"; break;\n      case \"ETS002\": returnVal = \"유류비\"; break;\n      case \"ETS003\": returnVal = \"자기개발지원금\"; break;\n      case \"ETS004\": returnVal = \"식비\"; break;\n      default : alert(\"compVal 확인요망\");\n    }\n    return returnVal;\n  }\n  \n  const fetchAttdRestList_axiosOptions = {\n    url: \"http://localhost:8282/hr/attendance/findRestAttdList\",\n    //headers : {\"Context-Type\": \"application/json\"},\n    fetchOnStart: false,\n    method: \"get\",\n    params: {\n      startDate: fromDate.value,\n      endDate: toDate.value,\n      empCode: sessionStorage.getItem(\"empCodeInfo_token\"),\n      code: codeDivision(selectedInput)\n    }\n  };\n  \n  const { data, fetch } = useAxios(fetchAttdRestList_axiosOptions);   // 조회를 사가로 했으면 결제승인페이지가 쉬웠을듯\n    \n  const fetchAttdRestList = () => {\n    fetch();\n    //console.log(`DATA: ${JSON.stringify(data)}`);\n  };\n\n  // togle\n  const [costOpen, setCostOpen] = React.useState(false);\n  const [attdRestOpen, setAttdRestOpen] = React.useState(false);\n\n  function costHandleClose() {\n    setCostOpen(false);\n  }\n\n  function costHandleOpen() {\n    setCostOpen(true);\n  }\n\n  function attdRestHandleClose() {\n    // console.log(data);\n    setAttdRestOpen(false);\n  }\n\n  function attdRestHandleOpen() {\n    setAttdRestOpen(true);\n  }\n  const [attdRestStartDate, setAttdRestStartDate] = useState(today);\n  const [attdRestEndDate, setAttdRestEndDate] = useState(today);\n // const attdRestStartDate = useInput();\n // const attdRestEndDate = useInput();\n  const attdRestTypeCode = useInput();\n  const cause = useInput();\n  const cost = useInput();\n  const startTime = useInput();\n  const endTime = useInput();\n\n  const dispatch = useDispatch();\n\n  const BatchDailyAttdRest = () => {\n    if(!codeDivision(selectedInput)) { \n      alert(\"근태외 구분란을 입력하세요\"); return; \n    }\n\n    const numberOfDays = (\n      (new Date(attdRestEndDate.value).getTime() -\n        new Date(attdRestStartDate.value).getTime()) /\n      (1000 * 60 * 60 * 24)\n    ).toString();\n\n    const timeFormAlter = (primitiveTime) => {\n      if(!primitiveTime) return;\n      let changedTime = primitiveTime.replace(\":\",\"\");\n      if(changedTime.charAt(0) == 0) changedTime = changedTime.replace(/(^0+)/, \"\");\n\n      return Number(changedTime);\n    }\n    \n    const data = {\n      empCode: sessionStorage.getItem(\"empCodeInfo_token\"),\n      restTypeCode: attdRestTypeCode.value,\n      restTypeName: getInnerText(codeDivision(selectedInput)),\n      requestDate: new Date().toISOString().substring(0, 10),\n      startDate: attdRestStartDate,\n      endDate: attdRestEndDate,\n      cause: cause.value,\n      applovalStatus: \"승인대기\",   // RST_ATTD테이블 칼럼 오탈자\n      rejectCause: \"\",\n      cost: \"\",    // getInnerText(cost.value), RST_ATTD테이블에 COST칼럼은 있지만, 해당칼럼은 NUMBER형이다. 각 항목에 대한 비용이 정의된 테이블을 찾지못했음\n      startTime: timeFormAlter(startTime.value),\n      endTime: timeFormAlter(endTime.value),\n      numberOfDays: ( numberOfDays == \"NaN\" ? 0 : numberOfDays )\n    };\n    dispatch({ type: REST_ATTD_REQUEST, data: data });\n    \n  };\n\n\n  const inputLabel = React.useRef(null);\n  const [labelWidth, setLabelWidth] = React.useState(0);\n  React.useEffect(() => {\n    setLabelWidth(inputLabel.current.offsetWidth);\n  }, []);\n\n  return (\n    <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <Paper className={classes.topPaper}>\n            <FormControl variant=\"outlined\" className={classes.topFormControl}>\n              <InputLabel\n                ref={inputLabel}\n                htmlFor=\"outlined-attdRestTypeCode-simple\"\n              >\n              ATTD TYPE\n              </InputLabel>\n              <Select\n                input={\n                  <OutlinedInput\n                    labelWidth={labelWidth}\n                    name=\"attdRestTypeCode\"\n                    id=\"outlined-attdRestTypeCode-simple\"\n                  />\n                }\n                open={attdRestOpen}\n                onClose={attdRestHandleClose}\n                onOpen={attdRestHandleOpen}\n                onChange={attdRestTypeCode.onChange}\n              >\n                <option value=\"ADC003\">공외출</option>\n                <option value=\"ADC005\">사외출</option>\n                <option value=\"DAC004\">조퇴</option>\n              </Select>\n            </FormControl>\n          </Paper>\n        </Grid>\n      <Grid item xs={4}>\n        <Paper className={classes.leftPaper}>\n          <AppBar position=\"relative\" className={classes.subCategory}>\n            <Toolbar>\n              <Typography variant=\"h5\">근태외 신청</Typography>\n            </Toolbar>\n          </AppBar>\n          <br/>\n          <form>\n            <TextField\n              id=\"attdRestStartDate\"\n              label=\"근태외 시작일\"\n              type=\"date\"\n              variant=\"outlined\"\n              defaultValue={attdRestStartDate}\n              onChange={e => {\n                setAttdRestStartDate(e.target.value);\n              }}\n              className={classes.textField}\n              InputLabelProps={{\n                shrink: true\n              }}\n            />\n            <br/><br/>\n            <TextField\n              id=\"attdRestEndDate\"\n              label=\"근태외 종료일\"\n              type=\"date\"\n              variant=\"outlined\"\n              defaultValue={attdRestEndDate}\n              onChange={e => {\n                setAttdRestEndDate(e.target.value);\n              }}\n              className={classes.textField}\n              InputLabelProps={{\n                shrink: true\n              }}\n            />\n            <br/><br/>\n            <TextField\n              id=\"startTime\"\n              label=\"시작시간\"\n              type=\"time\"\n              defaultValue={startTime.value}\n              onChange={startTime.onChange}\n              className={classes.textField}\n              variant=\"outlined\"\n              InputLabelProps={{\n                shrink: true\n              }}\n            />\n            <br/><br/>\n            <TextField\n              id=\"endTime\"\n              label=\"종료시간\"\n              type=\"time\"\n              defaultValue={endTime.value}\n              onChange={endTime.onChange}\n              className={classes.textField}\n              variant=\"outlined\"\n              InputLabelProps={{\n                shrink: true\n              }}\n            />\n            <br/><br/>\n            <FormControl variant=\"outlined\" className={classes.formControl}>\n              <InputLabel\n                ref={inputLabel}\n                htmlFor=\"outlined-cost-simple\"\n              >\n                COST\n              </InputLabel>\n              <Select\n                input={\n                  <OutlinedInput\n                    labelWidth={labelWidth}\n                    name=\"cost\"\n                    id=\"outlined-cost-simple\"\n                  />\n                }\n                open={costOpen}\n                onClose={costHandleClose}\n                onOpen={costHandleOpen}\n                value={cost.value}\n                onChange={cost.onChange}\n              >\n                <MenuItem value=\"ETS001\">출장수당</MenuItem>\n                <MenuItem value=\"ETS002\">유류비</MenuItem>\n                <MenuItem value=\"ETS003\">자기개발지원금</MenuItem>\n                <MenuItem value=\"ETS004\">식비</MenuItem>\n              </Select>\n            </FormControl>\n            <br/><br/>\n            <TextField\n              id=\"cause\"\n              label=\"근태외 사유\"\n              variant=\"outlined\"\n              defaultValue={cause.value}\n              onChange={cause.onChange}\n              className={classes.textField}\n              InputLabelProps={{\n                shrink: true\n              }}\n            />\n          </form>\n          <Box textAlign=\"right\">\n            <Button\n              variant={\"outlined\"}\n              color={\"primary\"}\n              onClick={BatchDailyAttdRest}\n              className={classes.button}\n            >\n              신청\n            </Button>\n          </Box>\n        </Paper>\n      </Grid>\n      <Grid item xs={8}>\n        <Paper className={classes.rightPaper}>\n          <AppBar position=\"relative\" className={classes.subCategory}>\n            <Toolbar>\n              <Typography variant=\"h5\">근태외 현황조회</Typography>\n            </Toolbar>\n          </AppBar>\n          <br/>\n          <div>\n            <TextField\n              id={\"fromDate\"}\n              label={\"검색날짜\"}\n              type={\"date\"}\n              defaultValue={fromDate.value}\n              onChange={fromDate.onChange}\n              className={classes.textField}\n              variant=\"outlined\"\n            />\n            ~\n            <TextField\n              id={\"toDate\"}\n              label={\"검색날짜\"}\n              type={\"date\"}\n              defaultValue={toDate.value}\n              onChange={toDate.onChange}\n              className={classes.textField}\n              variant=\"outlined\"\n            />\n            <Button\n              variant={\"outlined\"}\n              color={\"primary\"}\n              onClick= {fetchAttdRestList}\n              className={classes.button}\n            >\n              조회\n            </Button>\n          </div>\n          <div\n            className={\"ag-theme-material\"}\n            style={{\n              height: \"400px\",\n              width: \"100%\"\n            }}\n          >\n            <AgGridReact columnDefs={columnDefs} rowData={data ? data : []} />\n          </div>\n        </Paper>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default RestAttdComp;\n\n//*************************외출 및 조퇴 종료 _준서 _20.08.24 *************************"]},"metadata":{},"sourceType":"module"}