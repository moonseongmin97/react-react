{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\REACT\\\\68react\\\\src\\\\erp\\\\hr\\\\attendance\\\\page\\\\AttendanceApploval\\\\AttdAppl.js\";\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport UseStyles from \"./UseStyles\";\nimport { Paper, TextField, Button, Grid, AppBar, InputLabel, Typography, Toolbar, MenuItem, Select, FormControl, OutlinedInput } from \"@material-ui/core\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-material.css\";\nimport AttdApplInput from \"./AttdApplInput\";\nimport useInput from \"util/useInput\";\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel'; //***************************** 결제승인관리 시작 재영 ***************************/\n\nconst AttdAppl = props => {\n  const radioValue = useInput();\n  const columnDefs = AttdApplInput;\n  const classes = UseStyles();\n  const fromDate = useInput(\"2021-01-01\");\n  const toDate = useInput(\"2021-12-31\");\n  const deptCode = useInput();\n  const [checkData, setCheckData] = useState(0);\n\n  const searchAttdAppl = () => {\n    console.log(deptCode.value);\n    console.log(fromDate.value);\n    console.log(toDate.value);\n\n    if (deptCode.value === undefined) {\n      alert('부서를 선택해 주세요.');\n      return;\n    }\n\n    props.searchAttdApplList({\n      deptCode: deptCode.value,\n      startDate: fromDate.value,\n      endDate: toDate.value\n    });\n  };\n\n  const handleChange = event => {\n    radioValue.setValue(event.target.value);\n    const size = checkData.length;\n\n    for (let a = 0; a < size; a++) {\n      if (event.target.value === '승인') {\n        checkData[a].applovalStatus = 'apploval';\n      } else if (event.target.value === '승인취소') {\n        checkData[a].applovalStatus = 'cancel';\n      } else {\n        checkData[a].applovalStatus = 'return';\n      }\n    }\n  };\n\n  const onRowSelected = useCallback(e => {\n    setCheckData(e.api.getSelectedRows());\n  }, []);\n\n  const updateAttdAppl = () => {\n    props.update(checkData, deptCode.value, fromDate.value, toDate.value);\n  };\n\n  const onChangeDeptCode = e => {\n    deptCode.setValue(e.target.value);\n  };\n\n  return React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.mainPaper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"relative\",\n    className: classes.subCategory,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"\\uACB0\\uC7AC\\uC2B9\\uC778\\uAD00\\uB9AC\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    variant: \"outlined\",\n    className: classes.searchTextField,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(InputLabel, {\n    htmlFor: \"outlined-cost-simple\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"\\uC870\\uD68C\\uBD80\\uC11C\"), React.createElement(Select, {\n    onChange: onChangeDeptCode,\n    input: React.createElement(OutlinedInput, {\n      name: \"deptDivision\",\n      id: \"outlined-cost-simple\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    value: \"DPT-01\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"\\uCD1D\\uBB34\\uBD80\"), React.createElement(MenuItem, {\n    value: \"DPT-02\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"\\uC601\\uC5C5\\uBD80\"), React.createElement(MenuItem, {\n    value: \"DPT-03\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"\\uC0DD\\uC0B0\\uBD80\"), React.createElement(MenuItem, {\n    value: \"DPT-04\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"\\uC778\\uC0AC\\uBD80\"), React.createElement(MenuItem, {\n    value: \"DPT-05\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, \"\\uAC1C\\uBC1C\\uBD80\"))), React.createElement(TextField, {\n    id: \"fromDate\",\n    label: \"신청일자\",\n    type: \"date\",\n    defaultValue: fromDate.value,\n    onChange: fromDate.onChange,\n    className: classes.textField,\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"toDate\",\n    label: \"신청일자\",\n    type: \"date\",\n    defaultValue: toDate.value,\n    onChange: toDate.onChange,\n    className: classes.textField,\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    className: classes.searchButton,\n    onClick: searchAttdAppl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, \"\\uC870\\uD68C\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.radio,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    component: \"fieldset\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(RadioGroup, {\n    row: true,\n    \"aria-label\": \"position\",\n    value: radioValue.value,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(FormControlLabel, {\n    value: \"\\uC2B9\\uC778\",\n    control: React.createElement(Radio, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }),\n    label: \"\\uC2B9\\uC778\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), React.createElement(FormControlLabel, {\n    value: \"\\uC2B9\\uC778\\uCDE8\\uC18C\",\n    control: React.createElement(Radio, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }),\n    label: \"\\uC2B9\\uC778\\uCDE8\\uC18C\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }), React.createElement(FormControlLabel, {\n    value: \"\\uBC18\\uB824\",\n    control: React.createElement(Radio, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }),\n    label: \"\\uBC18\\uB824\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }))), React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    name: \"confirm\",\n    onClick: updateAttdAppl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, \"\\uD655\\uC815\")), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"ag-theme-material\",\n    style: {\n      height: \"400px\",\n      width: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(AgGridReact, {\n    columnDefs: columnDefs,\n    rowData: props.attdApplList,\n    suppressRowClickSelection: \"true\",\n    onRowSelected: onRowSelected,\n    onGridSizeChanged: event => {\n      event.api.sizeColumnsToFit();\n    },\n    onGridReady: event => {\n      event.api.sizeColumnsToFit();\n    },\n    rowSelection: \"multiple\" //여러개선택가능 \n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }))));\n};\n\nexport default AttdAppl; //***************************** 결제승인관리 종료 재영 ***************************/","map":{"version":3,"sources":["C:/Users/USER/Desktop/REACT/68react/src/erp/hr/attendance/page/AttendanceApploval/AttdAppl.js"],"names":["React","useState","useEffect","useRef","useCallback","UseStyles","Paper","TextField","Button","Grid","AppBar","InputLabel","Typography","Toolbar","MenuItem","Select","FormControl","OutlinedInput","AgGridReact","AttdApplInput","useInput","Radio","FormControlLabel","RadioGroup","FormLabel","AttdAppl","props","radioValue","columnDefs","classes","fromDate","toDate","deptCode","checkData","setCheckData","searchAttdAppl","console","log","value","undefined","alert","searchAttdApplList","startDate","endDate","handleChange","event","setValue","target","size","length","a","applovalStatus","onRowSelected","e","api","getSelectedRows","updateAttdAppl","update","onChangeDeptCode","mainPaper","subCategory","searchTextField","onChange","textField","searchButton","radio","height","width","attdApplList","sizeColumnsToFit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport UseStyles from \"./UseStyles\";\nimport {\n  Paper, TextField, Button, Grid, AppBar, InputLabel, Typography, Toolbar, MenuItem, Select,\n  FormControl, OutlinedInput\n} from \"@material-ui/core\"\nimport { AgGridReact } from \"ag-grid-react\";\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-material.css\";\nimport AttdApplInput from \"./AttdApplInput\";\nimport useInput from \"util/useInput\";\nimport Radio from '@material-ui/core/Radio';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport RadioGroup from '@material-ui/core/RadioGroup';\nimport FormLabel from '@material-ui/core/FormLabel';\n\n//***************************** 결제승인관리 시작 재영 ***************************/\nconst AttdAppl = (props) => {\n\n  const radioValue = useInput();\n  const columnDefs = AttdApplInput;\n  const classes = UseStyles();\n  const fromDate = useInput(\"2021-01-01\");\n  const toDate = useInput(\"2021-12-31\");\n  const deptCode = useInput();\n  const [checkData, setCheckData] = useState(0);\n\n  const searchAttdAppl = () => {\n    console.log(deptCode.value);\n    console.log(fromDate.value);\n    console.log(toDate.value);\n    if (deptCode.value === undefined) {\n      alert('부서를 선택해 주세요.')\n      return;\n    }\n    props.searchAttdApplList({ deptCode: deptCode.value, startDate: fromDate.value, endDate: toDate.value });\n  };\n\n  const handleChange = (event) => {\n    radioValue.setValue(event.target.value);\n    const size = checkData.length;\n    for (let a = 0; a < size; a++) {\n      if (event.target.value === '승인') {\n        checkData[a].applovalStatus = 'apploval';\n      } else if (event.target.value === '승인취소') {\n        checkData[a].applovalStatus = 'cancel';\n      } else {\n        checkData[a].applovalStatus = 'return';\n      }\n    }\n  };\n\n  const onRowSelected = useCallback((e) => {\n    setCheckData(e.api.getSelectedRows())\n  }, [])\n\n  const updateAttdAppl = () => {\n    props.update(checkData, deptCode.value, fromDate.value, toDate.value);\n  }\n\n  const onChangeDeptCode = (e) => {\n    deptCode.setValue(e.target.value)\n  }\n\n  return (\n    <Grid item xs={12}>\n      <Paper className={classes.mainPaper}>\n        <AppBar position=\"relative\" className={classes.subCategory}>\n          <Toolbar>\n            <Typography variant=\"h5\">결재승인관리</Typography>\n          </Toolbar>\n        </AppBar>\n        <br />\n        <div>\n          <FormControl variant=\"outlined\" className={classes.searchTextField}>\n            <InputLabel\n\n              htmlFor=\"outlined-cost-simple\"\n            >\n              조회부서\n            </InputLabel>\n            <Select\n              onChange={onChangeDeptCode}\n              input={\n                <OutlinedInput\n                  name=\"deptDivision\"\n                  id=\"outlined-cost-simple\"\n                />\n              }\n            >\n              <MenuItem value=\"DPT-01\">총무부</MenuItem>\n              <MenuItem value=\"DPT-02\">영업부</MenuItem>\n              <MenuItem value=\"DPT-03\">생산부</MenuItem>\n              <MenuItem value=\"DPT-04\">인사부</MenuItem>\n              <MenuItem value=\"DPT-05\">개발부</MenuItem>\n            </Select>\n          </FormControl>\n          <TextField\n            id={\"fromDate\"}\n            label={\"신청일자\"}\n            type={\"date\"}\n            defaultValue={fromDate.value}\n            onChange={fromDate.onChange}\n            className={classes.textField}\n            variant=\"outlined\"\n          />\n          <TextField\n            id={\"toDate\"}\n            label={\"신청일자\"}\n            type={\"date\"}\n            defaultValue={toDate.value}\n            onChange={toDate.onChange}\n            className={classes.textField}\n            variant=\"outlined\"\n          />\n          <Button\n            variant={\"outlined\"}\n            color={\"primary\"}\n            className={classes.searchButton}\n            onClick={searchAttdAppl}\n          >\n            조회\n          </Button>\n        </div>\n        <br />\n        <div className={classes.radio}>\n          <FormControl component=\"fieldset\" >\n            <RadioGroup row aria-label=\"position\" value={radioValue.value} onChange={handleChange} >\n              <FormControlLabel value=\"승인\" control={<Radio />} label=\"승인\" />\n              <FormControlLabel value=\"승인취소\" control={<Radio />} label=\"승인취소\" />\n              <FormControlLabel value=\"반려\" control={<Radio />} label=\"반려\" />\n            </RadioGroup>\n          </FormControl>\n          <Button\n            variant={\"outlined\"}\n            color={\"primary\"}\n            name={\"confirm\"}\n            onClick={updateAttdAppl}\n          >\n            확정\n          </Button>\n        </div>\n        <br />\n        <div\n          className={\"ag-theme-material\"}\n          style={{\n            height: \"400px\",\n            width: \"100%\"\n          }}\n        >\n          <AgGridReact\n            columnDefs={columnDefs}\n            rowData={props.attdApplList}\n            suppressRowClickSelection={\"true\"}\n            onRowSelected={onRowSelected}\n            onGridSizeChanged={event => {\n              event.api.sizeColumnsToFit();\n            }}\n            onGridReady={(event) => {\n              event.api.sizeColumnsToFit();\n            }}\n            rowSelection=\"multiple\" //여러개선택가능 \n          />\n        </div>\n      </Paper>\n\n    </Grid>\n  );\n}\n\nexport default AttdAppl;\n//***************************** 결제승인관리 종료 재영 ***************************/"]},"metadata":{},"sourceType":"module"}