{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\REACT\\\\68REACT\\\\src\\\\erp\\\\hr\\\\attendance\\\\page\\\\MonthAttendance\\\\MonthAttdManage.js\";\nimport React, { useState } from \"react\";\nimport Grid from \"./Grid\";\nimport Button from '@material-ui/core/Button';\nimport { Typography, AppBar, Toolbar } from \"@material-ui/core\";\nimport { FormControl } from \"@material-ui/core\";\nimport Select from \"react-select\";\nimport useMonth from \"./useMonth\";\nimport \"./MonthAttdManage.css\"; //======================================= 설재영 월근태 ===========================================//\n\nconst MonthAttdManage = ({\n  searchMonthAttd,\n  monthAttdMgtList,\n  updateMonthAttdMgtList,\n  errorCode,\n  errorMsg\n}) => {\n  const set1 = useMonth();\n  const [date, setDate] = useState('');\n\n  const handleChange = (newValue, actionMeta) => {\n    //  console.group(\"Value Changed\");\n    //  console.log(newValue);\n    //console.log(`action: ${actionMeta.action}`);\n    //  console.groupEnd();\n    setDate(newValue.value);\n  }; //조회하기\n\n\n  const search = () => {\n    console.log(\"zzzzzzzzzzzzz\" + date);\n    searchMonthAttd(date);\n  }; //마감이벤트\n\n\n  const finalize = e => {\n    //console.log(JSON.stringify(monthAttdMgtList));\n    const monthAttd = monthAttdMgtList;\n\n    for (let i = 0; i < monthAttd.length; i++) {\n      delete monthAttd[i].errorCode;\n      delete monthAttd[i].errorMsg;\n      delete monthAttd[i].chk; //전체마감\n\n      if (e.currentTarget.id === 'update') {\n        if (monthAttd[i].finalizeStatus === 'Y') {\n          alert('이미 마감처리 되었습니다.');\n          return;\n        }\n\n        monthAttd[i].status = 'update';\n      } else {\n        //마감취소\n        if (monthAttd[i].finalizeStatus === 'N') {\n          alert('마감처리를 확인해주세요.');\n          return;\n        }\n\n        monthAttd[i].status = 'cancel';\n      }\n    } //Action 실행\n\n\n    console.log(JSON.stringify(monthAttd));\n    updateMonthAttdMgtList({\n      monthAttdMgtList: monthAttd\n    });\n\n    if (!!errorMsg) {\n      alert(errorMsg);\n    }\n\n    if (!!monthAttdMgtList) {\n      alert('요청하신 처리가 완료 되었습니다.');\n    }\n  };\n\n  const customStyles = {\n    menu: (provided, state) => ({ ...provided,\n      width: state.selectProps.width,\n      borderBottom: \"1px dotted pink\",\n      color: state.selectProps.menuColor,\n      padding: 20\n    }),\n    singleValue: (provided, state) => {\n      const opacity = state.isDisabled ? 0.5 : 1;\n      const transition = \"opacity 300ms\";\n      return { ...provided,\n        opacity,\n        transition\n      };\n    }\n  };\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"ui primary segment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"static\",\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    component: \"h2\",\n    variant: \"h4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"\\uC6D4\\uADFC\\uD0DC\\uAD00\\uB9AC\")))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(\"fieldset\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \" [ \\uAC80\\uC0C9\\uC870\\uAC74 ] \"), React.createElement(FormControl, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }), React.createElement(FormControl, {\n    style: {\n      minWidth: \"250px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(Select, {\n    styles: customStyles,\n    menuPlacement: \"auto\",\n    menuPosition: \"fixed\",\n    onChange: handleChange,\n    options: set1.selectedmonth,\n    placeholder: \"\\uB0A0\\uC9DC\\uB97C \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"box\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: search,\n    className: \"button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"\\uC870\\uD68C\\uD558\\uAE30\"), React.createElement(Button, {\n    id: \"update\",\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: finalize,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"\\uC804\\uCCB4\\uB9C8\\uAC10\\uD558\\uAE30\"), React.createElement(Button, {\n    id: \"cancel\",\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: finalize,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \"\\uC804\\uCCB4\\uB9C8\\uAC10\\uCDE8\\uC18C\"))))), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    data: monthAttdMgtList,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })));\n};\n\nexport default MonthAttdManage;","map":{"version":3,"sources":["C:/Users/USER/Desktop/REACT/68REACT/src/erp/hr/attendance/page/MonthAttendance/MonthAttdManage.js"],"names":["React","useState","Grid","Button","Typography","AppBar","Toolbar","FormControl","Select","useMonth","MonthAttdManage","searchMonthAttd","monthAttdMgtList","updateMonthAttdMgtList","errorCode","errorMsg","set1","date","setDate","handleChange","newValue","actionMeta","value","search","console","log","finalize","e","monthAttd","i","length","chk","currentTarget","id","finalizeStatus","alert","status","JSON","stringify","customStyles","menu","provided","state","width","selectProps","borderBottom","color","menuColor","padding","singleValue","opacity","isDisabled","transition","minWidth","selectedmonth"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Grid from \"./Grid\";\nimport Button from '@material-ui/core/Button';\nimport { Typography, AppBar, Toolbar } from \"@material-ui/core\"\nimport { FormControl } from \"@material-ui/core\";\nimport Select from \"react-select\";\nimport useMonth from \"./useMonth\";\nimport \"./MonthAttdManage.css\"\n\n//======================================= 설재영 월근태 ===========================================//\nconst MonthAttdManage = ({ searchMonthAttd, monthAttdMgtList, updateMonthAttdMgtList, errorCode, errorMsg }) => {\n\n  const set1 = useMonth();\n  const [date, setDate] = useState('');\n\n  const handleChange = (newValue, actionMeta) => {\n    //  console.group(\"Value Changed\");\n    //  console.log(newValue);\n    //console.log(`action: ${actionMeta.action}`);\n    //  console.groupEnd();\n    setDate(newValue.value);\n  };\n\n  //조회하기\n  const search = () => {\n    console.log(\"zzzzzzzzzzzzz\"+date);\n    searchMonthAttd(date); \n  };\n\n  //마감이벤트\n  const finalize = e => {\n    //console.log(JSON.stringify(monthAttdMgtList));\n    const monthAttd = monthAttdMgtList;\n    for(let i=0; i<monthAttd.length; i++){ \n     delete monthAttd[i].errorCode\n     delete monthAttd[i].errorMsg\n     delete monthAttd[i].chk    \n     //전체마감\n     if(e.currentTarget.id === 'update'){\n      if(monthAttd[i].finalizeStatus === 'Y'){\n        alert('이미 마감처리 되었습니다.');\n        return;\n      } \n     monthAttd[i].status='update'\n    }else{ //마감취소\n      if(monthAttd[i].finalizeStatus === 'N'){\n        alert('마감처리를 확인해주세요.');\n        return;\n      } \n      monthAttd[i].status='cancel'\n    }\n  }\n  //Action 실행\n    console.log(JSON.stringify(monthAttd));\n    updateMonthAttdMgtList({monthAttdMgtList:monthAttd})\n    if(!!errorMsg){\n      alert(errorMsg);\n    }\n    if(!!monthAttdMgtList){\n      alert('요청하신 처리가 완료 되었습니다.');\n    }\n  }\n\n  const customStyles = {\n    menu: (provided, state) => ({\n      ...provided,\n      width: state.selectProps.width,\n      borderBottom: \"1px dotted pink\",\n      color: state.selectProps.menuColor,\n      padding: 20,\n    }),\n    singleValue: (provided, state) => {\n      const opacity = state.isDisabled ? 0.5 : 1;\n      const transition = \"opacity 300ms\";\n\n      return { ...provided, opacity, transition };\n    },\n  };\n\n    return (\n     \n      <div>\n        <React.Fragment>\n        <div className=\"ui primary segment\">      \n        <AppBar position=\"static\" color=\"primary\">\n        <Toolbar>\n          <Typography component=\"h2\" variant=\"h4\">\n          월근태관리         \n          </Typography>\n        </Toolbar>\n      </AppBar>     \n      </div>\n      <br />\n      <div align='center'>\n      <fieldset>\n        <legend> [ 검색조건 ] </legend>\n        <FormControl></FormControl>\n          <FormControl style={{ minWidth: \"250px\" }}>\n            <Select\n              styles={customStyles}\n              menuPlacement=\"auto\"\n              menuPosition=\"fixed\"\n              onChange={handleChange}\n              options={set1.selectedmonth}\n              placeholder=\"날짜를 선택해주세요\"\n            ></Select>\n          </FormControl>\n          <div className=\"box\">\n          <Button variant=\"contained\" color=\"primary\" onClick={search} className=\"button\">\n          조회하기\n          </Button> \n          <Button id=\"update\" variant=\"contained\" color=\"primary\" onClick={finalize}>\n         전체마감하기\n          </Button>\n          <Button id=\"cancel\" variant=\"contained\" color=\"primary\" onClick={finalize}>\n         전체마감취소\n          </Button>\n          </div>\n      </fieldset>\n      </div>\n       </React.Fragment>       \n        <div>\n        <Grid data={monthAttdMgtList} />\n        </div>\n      </div>\n    );\n  }\n\nexport default MonthAttdManage;"]},"metadata":{},"sourceType":"module"}