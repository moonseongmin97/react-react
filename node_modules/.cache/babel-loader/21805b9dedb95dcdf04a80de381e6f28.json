{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\REACT\\\\68REACT\\\\src\\\\erp\\\\logistic\\\\outsourc\\\\page\\\\Inspection\\\\InspectionContainer.js\";\nimport { Button } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport MyGrid from 'util/LogiUtil/MyGrid';\nimport Axios from 'axios';\nimport Swal from 'sweetalert2';\n\nfunction WorkOrderStatus(props) {\n  const [list, setList] = useState([]);\n  const [size, setSize] = useState('50vh'); //const [selectedRows, setSelectedRows] = useState([]);\n\n  const [grid, setGrid] = useState([]);\n  const column = {\n    columnDefs: [{\n      headerName: 'ì™¸ì£¼ë°œì£¼ë²ˆí˜¸',\n      field: 'outsourcNo',\n      minWidth: 150,\n      headerCheckboxSelection: false,\n      headerCheckboxSelectionFilteredOnly: true,\n      suppressRowClickSelection: true,\n      checkboxSelection: true\n    }, {\n      headerName: 'ì†Œìš”ëŸ‰ì·¨í•©ë²ˆí˜¸',\n      field: 'mrpGatheringNo'\n    }, {\n      headerName: 'í’ˆëª©ì½”ë“œ',\n      field: 'itemCode'\n    }, {\n      headerName: 'í’ˆëª©ëª…',\n      field: 'itemName'\n    }, {\n      headerName: 'ë‹¨ìœ„',\n      field: 'unitOfMrpGathering'\n    }, {\n      headerName: 'í•„ìš”ìˆ˜ëŸ‰',\n      field: 'necessaryAmount'\n    }, {\n      headerName: 'ì™¸ì£¼ì§€ì‹œìˆ˜ëŸ‰',\n      field: 'outSourcAmount'\n    }, {\n      headerName: 'ì™¸ì£¼ë‹¨ê°€',\n      field: 'unitPriceOfOutsourc'\n    }, {\n      headerName: 'í•©ê³„ì•¡',\n      field: 'sumPriceOfOutsourc'\n    }, {\n      headerName: 'êµ¬ë§¤ì—¬ë¶€ë° ìƒì‚°ì—¬ë¶€',\n      field: 'orderOrProductionStatus'\n    }, {\n      headerName: 'ì‘ì—…ì™„ë£Œëœìˆ˜ëŸ‰',\n      minWidth: 50,\n      field: 'actualCompletionAmount',\n      editable: true,\n      cellRenderer: function (params) {\n        if (params.value == null) {\n          return 'ğŸ“·';\n        }\n\n        return 'ğŸ“·' + params.value;\n      }\n    }]\n  };\n\n  const onCellClicked = params => {\n    setGrid(params);\n  };\n\n  const completionRegist = () => {\n    if (grid.length === 0) {\n      return;\n    }\n\n    grid.api.stopEditing();\n    let selectedRows = grid.api.getSelectedRows();\n    let selectedRow = selectedRows[0];\n\n    if (selectedRow === undefined || selectedRows === undefined) {\n      Swal.fire('ì•Œë¦¼', 'ì„ íƒí•œ í–‰ì´ ì—†ìŠµë‹ˆë‹¤.', 'info');\n      return;\n    }\n\n    if (selectedRow.actualCompletionAmount === undefined || selectedRow.actualCompletionAmount === '' || selectedRow.actualCompletionAmount === null) {\n      Swal.fire('ì•Œë¦¼', 'ì‘ì—…ì™„ë£Œìˆ˜ëŸ‰ì„ ì…ë ¥í•˜ì‹­ì‹œì˜¤.', 'info');\n      return;\n    }\n\n    let confirmMsg = 'ì‘ì—…ì„ ì™„ë£Œí•©ë‹ˆë‹¤.</br>' + 'ì‘ì—…ì¼ë ¨ë²ˆí˜¸ : ' + selectedRow.outsourcNo + '</br>' + '<b>ì‘ì—…ì™„ë£Œëœìˆ˜ëŸ‰ : ' + selectedRow.actualCompletionAmount + '</b></br>'; // o ë°ì´í„° ì „ì†¡\n\n    Swal.fire({\n      title: 'ì‘ì—…ì„ ì™„ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?',\n      html: confirmMsg,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      cancelButtonText: 'ì·¨ì†Œ',\n      confirmButtonText: 'í™•ì¸'\n    }).then(result => {\n      if (result.isConfirmed) {\n        Axios.get('http://localhost:8282/logi/outsourc/outInspectionCompletion', {\n          params: {\n            outsourcNo: selectedRow.outsourcNo,\n            actualCompletionAmount: selectedRow.actualCompletionAmount\n          }\n        }).then(response => {\n          grid.api.updateRowData({\n            remove: [selectedRow]\n          });\n          Swal.fire('ì„±ê³µ!', 'ì‘ì—…ë“±ë¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');\n        }).catch(e => {\n          Swal.fire('ì˜¤ë¥˜', e, 'error');\n        });\n      }\n    });\n  };\n\n  const InspectionSearch = () => {\n    Axios.get('http://localhost:8282/logi/outsourc/outInspectionInfoList').then(response => {\n      setList(response.data.gridRowJson);\n    }).catch(e => {\n      Swal.fire('ì˜¤ë¥˜!!!', e, 'error');\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(MyGrid, {\n    column: column,\n    title: 'ì™¸ì£¼ìì¬ì‹¤ì ê²€ì‚¬',\n    list: list,\n    onCellClicked: onCellClicked,\n    rowSelection: \"single\",\n    size: size,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\",\n    style: {\n      marginRight: '1vh'\n    },\n    onClick: InspectionSearch,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, \"\\uC678\\uC8FC\\uC790\\uC7AC\\uC2E4\\uC801\\uC870\\uD68C\"), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"secondary\" //style={{ marginTop: \"1vh\" }}\n    ,\n    onClick: completionRegist,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"\\uC678\\uC8FC\\uC790\\uC7AC\\uAC80\\uC0AC\\uC644\\uB8CC\")));\n}\n\nexport default WorkOrderStatus;","map":{"version":3,"sources":["C:/Users/USER/Desktop/REACT/68REACT/src/erp/logistic/outsourc/page/Inspection/InspectionContainer.js"],"names":["Button","React","useState","MyGrid","Axios","Swal","WorkOrderStatus","props","list","setList","size","setSize","grid","setGrid","column","columnDefs","headerName","field","minWidth","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressRowClickSelection","checkboxSelection","editable","cellRenderer","params","value","onCellClicked","completionRegist","length","api","stopEditing","selectedRows","getSelectedRows","selectedRow","undefined","fire","actualCompletionAmount","confirmMsg","outsourcNo","title","html","icon","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","then","result","isConfirmed","get","response","updateRowData","remove","catch","e","InspectionSearch","data","gridRowJson","marginRight"],"mappings":"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","sourcesContent":["import { Button } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport MyGrid from 'util/LogiUtil/MyGrid';\nimport Axios from 'axios';\nimport Swal from 'sweetalert2';\n\nfunction WorkOrderStatus(props) {\n    const [list, setList] = useState([]);\n    const [size, setSize] = useState('50vh');\n    //const [selectedRows, setSelectedRows] = useState([]);\n    const [grid, setGrid] = useState([]);\n\n    const column = {\n        columnDefs: [\n            {\n                headerName: 'ì™¸ì£¼ë°œì£¼ë²ˆí˜¸',\n                field: 'outsourcNo',\n                minWidth: 150,\n                headerCheckboxSelection: false,\n                headerCheckboxSelectionFilteredOnly: true,\n                suppressRowClickSelection: true,\n                checkboxSelection: true\n            },\n            { headerName: 'ì†Œìš”ëŸ‰ì·¨í•©ë²ˆí˜¸', field: 'mrpGatheringNo' },\n            { headerName: 'í’ˆëª©ì½”ë“œ', field: 'itemCode' },\n            { headerName: 'í’ˆëª©ëª…', field: 'itemName' },\n            { headerName: 'ë‹¨ìœ„', field: 'unitOfMrpGathering' },\n            { headerName: 'í•„ìš”ìˆ˜ëŸ‰', field: 'necessaryAmount' },\n            { headerName: 'ì™¸ì£¼ì§€ì‹œìˆ˜ëŸ‰', field: 'outSourcAmount' },\n            { headerName: 'ì™¸ì£¼ë‹¨ê°€', field: 'unitPriceOfOutsourc' },\n            { headerName: 'í•©ê³„ì•¡', field: 'sumPriceOfOutsourc' },\n            { headerName: 'êµ¬ë§¤ì—¬ë¶€ë° ìƒì‚°ì—¬ë¶€', field: 'orderOrProductionStatus' },\n            {\n                headerName: 'ì‘ì—…ì™„ë£Œëœìˆ˜ëŸ‰',\n                minWidth: 50,\n                field: 'actualCompletionAmount',\n                editable: true,\n                cellRenderer: function(params) {\n                    if (params.value == null) {\n                        return 'ğŸ“·';\n                    }\n                    return 'ğŸ“·' + params.value;\n                }\n            }\n        ]\n    };\n\n    const onCellClicked = params => {\n        setGrid(params);\n    };\n\n    const completionRegist = () => {\n        if (grid.length === 0) {\n            return;\n        }\n        grid.api.stopEditing();\n        let selectedRows = grid.api.getSelectedRows();\n        let selectedRow = selectedRows[0];\n        if (selectedRow === undefined || selectedRows === undefined) {\n            Swal.fire('ì•Œë¦¼', 'ì„ íƒí•œ í–‰ì´ ì—†ìŠµë‹ˆë‹¤.', 'info');\n            return;\n        }\n\n        if (\n            selectedRow.actualCompletionAmount === undefined ||\n            selectedRow.actualCompletionAmount === '' ||\n            selectedRow.actualCompletionAmount === null\n        ) {\n            Swal.fire('ì•Œë¦¼', 'ì‘ì—…ì™„ë£Œìˆ˜ëŸ‰ì„ ì…ë ¥í•˜ì‹­ì‹œì˜¤.', 'info');\n            return;\n        }\n        let confirmMsg =\n            'ì‘ì—…ì„ ì™„ë£Œí•©ë‹ˆë‹¤.</br>' +\n            'ì‘ì—…ì¼ë ¨ë²ˆí˜¸ : ' +\n            selectedRow.outsourcNo +\n            '</br>' +\n            '<b>ì‘ì—…ì™„ë£Œëœìˆ˜ëŸ‰ : ' +\n            selectedRow.actualCompletionAmount +\n            '</b></br>';\n\n        // o ë°ì´í„° ì „ì†¡\n        Swal.fire({\n            title: 'ì‘ì—…ì„ ì™„ë£Œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?',\n            html: confirmMsg,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            cancelButtonText: 'ì·¨ì†Œ',\n            confirmButtonText: 'í™•ì¸'\n        }).then(result => {\n            if (result.isConfirmed) {\n                Axios.get('http://localhost:8282/logi/outsourc/outInspectionCompletion', {\n                    params: {\n                        outsourcNo: selectedRow.outsourcNo,\n                        actualCompletionAmount: selectedRow.actualCompletionAmount\n                    }\n                })\n                    .then(response => {\n                        grid.api.updateRowData({ remove: [selectedRow] });\n                        Swal.fire('ì„±ê³µ!', 'ì‘ì—…ë“±ë¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');\n                    })\n                    .catch(e => {\n                        Swal.fire('ì˜¤ë¥˜', e, 'error');\n                    });\n            }\n        });\n    };\n\n    const InspectionSearch = () => {\n        Axios.get('http://localhost:8282/logi/outsourc/outInspectionInfoList')\n            .then(response => {\n                setList(response.data.gridRowJson);\n            })\n            .catch(e => {\n                Swal.fire('ì˜¤ë¥˜!!!', e, 'error');\n            });\n    };\n\n    return (\n        <>\n            <MyGrid\n                column={column}\n                title={'ì™¸ì£¼ìì¬ì‹¤ì ê²€ì‚¬'}\n                list={list}\n                onCellClicked={onCellClicked}\n                rowSelection=\"single\"\n                size={size}\n            >\n                <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    style={{ marginRight: '1vh' }}\n                    onClick={InspectionSearch}\n                >\n                    ì™¸ì£¼ìì¬ì‹¤ì ì¡°íšŒ\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    //style={{ marginTop: \"1vh\" }}\n                    onClick={completionRegist}\n                >\n                    ì™¸ì£¼ìì¬ê²€ì‚¬ì™„ë£Œ\n                </Button>\n            </MyGrid>\n        </>\n    );\n}\n\nexport default WorkOrderStatus;\n"]},"metadata":{},"sourceType":"module"}