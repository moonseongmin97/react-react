{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\REACT\\\\68REACT\\\\src\\\\erp\\\\hr\\\\attendance\\\\page\\\\AnnualVacationManage\\\\AnnualVacationComp.js\";\nimport React, { useState } from 'react';\nimport UseStyles from './UseStyles';\nimport { Paper, TextField, Button, Grid, AppBar, Typography, Toolbar } from '@material-ui/core';\nimport { AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\nimport useAxios from 'util/useAxios';\nimport Axios from 'axios';\nimport AnnualVacationInput from './AnnualVacationInput';\nimport moment from 'moment';\n\nconst AnnualVacationComp = props => {\n  const columnDefs = AnnualVacationInput;\n  const classes = UseStyles(); //오늘 날짜\n\n  let toDay = moment(new Date()).format('yyyy-MM-DD');\n  const [fromDate, setFromDate] = useState(toDay);\n  const [gridEvent, setGridEvent] = useState(); //연차조회\n\n  const findAnnualVacationMgtList_axiosOptions = {\n    url: 'http://localhost:8282/hr/attendance/findAnnualVacationMgtList',\n    headers: {\n      'Access-Control-Allow-Origin': 'http://localhost:8282/'\n    },\n    //\"Context-Type\": \"application/json\"},\n    fetchOnStart: false,\n    method: 'get',\n    params: {\n      applyYearMonth: fromDate.split('-')[0] + fromDate.split('-')[1]\n    }\n  };\n  console.log('넘어가는가');\n  const {\n    data,\n    fetch\n  } = useAxios(findAnnualVacationMgtList_axiosOptions); // 조회를 사가로 했으면 결제승인페이지가 쉬웠을듯\n\n  const findAnnualVacationMgtList = () => {\n    fetch();\n  }; //마감, 마감취소\n\n\n  const annualfinalize = e => {\n    let buttonId = e.currentTarget.id;\n    let rowData = [];\n    gridEvent.api.forEachNode(node => {\n      rowData.push(node.data);\n    });\n    console.log('확인용');\n    console.log(rowData);\n    Axios.post('http://localhost:8282/hr/attendance/modifyAnnualVacationMgtList', {\n      rowData: rowData\n    }).then(response => {\n      findAnnualVacationMgtList();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classes.rightPaper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"relative\",\n    className: classes.subCategory,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"\\uC5F0\\uCC28\\uAD00\\uB9AC\"))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: 'fromDate',\n    label: '검색날짜',\n    type: 'date',\n    defaultValue: fromDate,\n    onChange: e => setFromDate(e.target.value),\n    className: classes.textField,\n    variant: \"outlined\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: 'outlined',\n    color: 'primary',\n    onClick: findAnnualVacationMgtList,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"\\uC870\\uD68C\")), React.createElement(\"div\", {\n    className: 'ag-theme-material',\n    style: {\n      height: '400px',\n      width: '100%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(AgGridReact, {\n    columnDefs: columnDefs,\n    rowData: data ? data : [],\n    onGridReady: event => {\n      event.api.sizeColumnsToFit();\n      setGridEvent(event);\n    },\n    getRowStyle: function (param) {\n      return {\n        'text-align': 'center'\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(Button, {\n    id: \"update\",\n    variant: 'outlined',\n    color: 'primary',\n    onClick: annualfinalize,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"\\uB9C8\\uAC10\"), React.createElement(Button, {\n    id: \"cancel\",\n    variant: 'outlined',\n    color: 'primary',\n    onClick: annualfinalize,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, \"\\uB9C8\\uAC10\\uCDE8\\uC18C\")))));\n};\n\nexport default AnnualVacationComp;","map":{"version":3,"sources":["C:/Users/USER/Desktop/REACT/68REACT/src/erp/hr/attendance/page/AnnualVacationManage/AnnualVacationComp.js"],"names":["React","useState","UseStyles","Paper","TextField","Button","Grid","AppBar","Typography","Toolbar","AgGridReact","useAxios","Axios","AnnualVacationInput","moment","AnnualVacationComp","props","columnDefs","classes","toDay","Date","format","fromDate","setFromDate","gridEvent","setGridEvent","findAnnualVacationMgtList_axiosOptions","url","headers","fetchOnStart","method","params","applyYearMonth","split","console","log","data","fetch","findAnnualVacationMgtList","annualfinalize","e","buttonId","currentTarget","id","rowData","api","forEachNode","node","push","post","then","response","catch","err","rightPaper","subCategory","target","value","textField","button","height","width","event","sizeColumnsToFit","param"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport UseStyles from './UseStyles';\nimport { Paper, TextField, Button, Grid, AppBar, Typography, Toolbar } from '@material-ui/core';\nimport { AgGridReact } from 'ag-grid-react';\nimport 'ag-grid-community/dist/styles/ag-grid.css';\nimport 'ag-grid-community/dist/styles/ag-theme-material.css';\nimport useAxios from 'util/useAxios';\nimport Axios from 'axios';\nimport AnnualVacationInput from './AnnualVacationInput';\nimport moment from 'moment';\n\nconst AnnualVacationComp = props => {\n    const columnDefs = AnnualVacationInput;\n    const classes = UseStyles();\n    //오늘 날짜\n    let toDay = moment(new Date()).format('yyyy-MM-DD');\n    const [fromDate, setFromDate] = useState(toDay);\n    const [gridEvent, setGridEvent] = useState();\n\n    //연차조회\n    const findAnnualVacationMgtList_axiosOptions = {\n        url: 'http://localhost:8282/hr/attendance/findAnnualVacationMgtList',\n        headers: {\n            'Access-Control-Allow-Origin': 'http://localhost:8282/'\n        },\n        //\"Context-Type\": \"application/json\"},\n        fetchOnStart: false,\n        method: 'get',\n        params: {\n            applyYearMonth: fromDate.split('-')[0] + fromDate.split('-')[1]\n        }\n    };\n    console.log('넘어가는가');\n\n    const { data, fetch } = useAxios(findAnnualVacationMgtList_axiosOptions); // 조회를 사가로 했으면 결제승인페이지가 쉬웠을듯\n\n    const findAnnualVacationMgtList = () => {\n        fetch();\n    };\n\n    //마감, 마감취소\n    const annualfinalize = e => {\n        let buttonId = e.currentTarget.id;\n        let rowData = [];\n        gridEvent.api.forEachNode(node => {\n            rowData.push(node.data);\n        });\n\n        console.log('확인용');\n        console.log(rowData);\n\n        Axios.post('http://localhost:8282/hr/attendance/modifyAnnualVacationMgtList', {\n            rowData: rowData\n        })\n            .then(response => {\n                findAnnualVacationMgtList();\n            })\n            .catch(err => {\n                console.log(err);\n            });\n    };\n\n    return (\n        <>\n            <Grid item xs={12}>\n                <Paper className={classes.rightPaper}>\n                    <AppBar position=\"relative\" className={classes.subCategory}>\n                        <Toolbar>\n                            <Typography variant=\"h5\">연차관리</Typography>\n                        </Toolbar>\n                    </AppBar>\n                    <br />\n                    <div align=\"center\">\n                        <TextField\n                            id={'fromDate'}\n                            label={'검색날짜'}\n                            type={'date'}\n                            defaultValue={fromDate}\n                            onChange={e => setFromDate(e.target.value)}\n                            className={classes.textField}\n                            variant=\"outlined\"\n                        />\n\n                        <Button\n                            variant={'outlined'}\n                            color={'primary'}\n                            onClick={findAnnualVacationMgtList}\n                            className={classes.button}\n                        >\n                            조회\n                        </Button>\n                    </div>\n                    <div\n                        className={'ag-theme-material'}\n                        style={{\n                            height: '400px',\n                            width: '100%'\n                        }}\n                    >\n                        <AgGridReact\n                            columnDefs={columnDefs}\n                            rowData={data ? data : []}\n                            onGridReady={event => {\n                                event.api.sizeColumnsToFit();\n                                setGridEvent(event);\n                            }}\n                            getRowStyle={function(param) {\n                                return { 'text-align': 'center' };\n                            }}\n                        />\n                    </div>\n                    <div align=\"center\">\n                        <Button\n                            id=\"update\"\n                            variant={'outlined'}\n                            color={'primary'}\n                            onClick={annualfinalize}\n                            className={classes.button}\n                        >\n                            마감\n                        </Button>\n                        <Button\n                            id=\"cancel\"\n                            variant={'outlined'}\n                            color={'primary'}\n                            onClick={annualfinalize}\n                            className={classes.button}\n                        >\n                            마감취소\n                        </Button>\n                    </div>\n                </Paper>\n            </Grid>\n        </>\n    );\n};\nexport default AnnualVacationComp;\n"]},"metadata":{},"sourceType":"module"}